<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart </title>
</head>
<body>


    <!-- Cart - each individual meal should have a delete button if they don't want it anymore.

Should have a checkout button. -->


    <!-- Shopping Cart Modal: -->
 
<!-- Shopping Cart Modal -->
    <!-- <div class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <p class="modal-card-title">Modal title</p>
            <button class="delete" aria-label="close"></button>
          </header>
          <section class="modal-card-body">
            
            -- Content ... --
          </section>
          <footer class="modal-card-foot">
            <button class="button is-success">Save changes</button>
            <button class="button">Cancel</button>
          </footer>
        </div>
      </div>
 -->


 <!-- Cart -->

      <!-- Create a button to trigger the modal -->
<button class="button is-primary" id="open-modal">Open Cart</button>
<!-- Create the modal structure -->
<div class="modal" id="cart-modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title is-centered"> Your Shopping Cart </p> 

        </header>
    </div>
    <div class="container">
      <div class="modal-content">
        <!-- need to connect with user's items here -->
        
        
        <!-- add event listener to pull from previous page -->
        <!-- functionality to save to local storage  -->

        <ul>
          <li class="cart-item"> Placeholder Product 1</li>
          <li class="cart-item"> Placeholder Product 2</li>
          <li class="cart-item"> Placeholder Product 3</li>
        </ul>

        <button class="button is-primary">Checkout</button>
        <button type="submit" class="button is is-primary"> Take Me home  </button>
      </div>
    <!-- Modal content goes here -->
</div>
<button class="modal-close is-large" aria-label="close"></button>
</div>






<!-- JavaScript -->
<script>

//function to create cart dynamically

// Get references to the modal and button
  const modal = document.getElementById('cart-modal');
  const button = document.getElementById('open-modal');

  // Function to open the modal
  function openModal() {
    modal.classList.add('is-active');
  }

  // Function to close the modal
  function closeModal() {
    modal.classList.remove('is-active');
  }

  // Add event listeners to the button and modal close button
  button.addEventListener('click', openModal);
  modal.querySelector('.modal-close').addEventListener('click', closeModal);

//create variable for thumbbnail
var thumbNail = document.getElementbyId('thumbnail')

// save items to local storage
const saveCart = localStorage.setItem("Recipe",thumbNail) // saves recipe name and thumbNail variable to local storage 

// populate cart function, and then attack to the button on click
function populatecart () {

// need logic to save reciple into a variable and then display that in the cart

  // Get the recipe details
  var cartItem = document.getElementsByClassName('cart-item')[0].innerText;
  var thumbnail = document.getElementById('thumbnail').src;


 // Save the recipe details to local storage
 localStorage.setItem("cartItem", cartItem);
  localStorage.setItem("thumbnail", thumbnail);

  var button = document.getElementById('shopping-cart');
button.addEventListener('click', populateCart);

}

button.addEventListener('click',populatecart);

//TODO:  set boolean- added to cart?
// ability to delete / remove item from cart 
// saves to local storage 

</script>



      <!-- Script for Shopping Cart  -->

<script src="./assets/js/shoppingcart.js"></script>
</body>
</html>